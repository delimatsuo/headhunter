---
phase: 09-match-transparency
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - headhunter-ui/src/components/Match/SkillChip.tsx
  - headhunter-ui/src/components/Match/SkillChip.css
autonomous: true

must_haves:
  truths:
    - "Inferred skills display confidence badges (High/Likely/Possible)"
    - "Explicit skills show solid styling without confidence badge"
    - "Tooltip shows reasoning/evidence for inferred skills"
  artifacts:
    - path: "headhunter-ui/src/components/Match/SkillChip.tsx"
      provides: "SkillChip component with confidence badges"
      exports: ["SkillChip"]
    - path: "headhunter-ui/src/components/Match/SkillChip.css"
      provides: "Styling for skill chips and confidence badges"
      contains: "confidence-badge"
  key_links:
    - from: "headhunter-ui/src/components/Match/SkillChip.tsx"
      to: "MUI Tooltip"
      via: "import"
      pattern: "@mui/material.*Tooltip"
---

<objective>
Create the SkillChip component that displays skills with confidence indicators for inferred skills.

Purpose: Recruiters need to distinguish between explicit skills (confirmed) and inferred skills (likely based on context). TRNS-04 requirement: "Inferred skills displayed with confidence indicators."

Output: SkillChip component that renders explicit skills with solid styling and inferred skills with confidence badges (High: >0.8, Medium: 0.5-0.8, Low: <0.5).
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Phase research - confidence thresholds and UI design
@.planning/phases/09-match-transparency/09-RESEARCH.md

# Existing types with intelligent_analysis.inferred_skills structure
@headhunter-ui/src/types/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SkillChip component</name>
  <files>headhunter-ui/src/components/Match/SkillChip.tsx</files>
  <action>
Create the SkillChip React component with confidence indicators:

```typescript
import React from 'react';
import { Tooltip } from '@mui/material';
import './SkillChip.css';

export interface SkillChipProps {
  skill: string;
  type: 'explicit' | 'inferred';
  confidence?: number;        // 0-1 for inferred skills
  evidence?: string;          // Reasoning for inferred skill
  isMatched?: boolean;        // Highlight if matched search requirement
}

export const SkillChip: React.FC<SkillChipProps> = ({
  skill,
  type,
  confidence = 1,
  evidence,
  isMatched = false,
}) => {
  // Confidence thresholds (from research: TRNS-04)
  // High: >= 0.8, Medium: 0.5-0.79, Low: < 0.5
  const getConfidenceLevel = (conf: number): 'high' | 'medium' | 'low' => {
    if (conf >= 0.8) return 'high';
    if (conf >= 0.5) return 'medium';
    return 'low';
  };

  const confidenceLevel = type === 'inferred' ? getConfidenceLevel(confidence) : null;
  const confidenceLabels = {
    high: 'High',
    medium: 'Likely',
    low: 'Possible'
  };

  const chipContent = (
    <span className={`skill-chip ${type} ${confidenceLevel || ''} ${isMatched ? 'matched' : ''}`}>
      {skill}
      {type === 'inferred' && confidenceLevel && (
        <span className={`confidence-badge ${confidenceLevel}`}>
          {confidenceLabels[confidenceLevel]}
        </span>
      )}
    </span>
  );

  // Wrap in tooltip if there's evidence for inferred skill
  if (type === 'inferred' && evidence) {
    return (
      <Tooltip title={evidence} arrow placement="top">
        {chipContent}
      </Tooltip>
    );
  }

  return chipContent;
};
```

Key implementation details:
- Confidence thresholds: High (>=0.8), Medium (0.5-0.79), Low (<0.5)
- Labels: "High", "Likely", "Possible" for confidence badges
- Tooltip shows evidence/reasoning on hover for inferred skills
- Use MUI Tooltip for consistency with existing UI
- Support `isMatched` prop to highlight skills matching search requirements
  </action>
  <verify>`npm run build` succeeds and component is importable</verify>
  <done>SkillChip component displays explicit skills without badge and inferred skills with confidence badges</done>
</task>

<task type="auto">
  <name>Task 2: Create SkillChip styling</name>
  <files>headhunter-ui/src/components/Match/SkillChip.css</files>
  <action>
Create CSS styling for SkillChip component:

```css
/* Base skill chip styling */
.skill-chip {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border-radius: 16px;
  font-size: 12px;
  font-weight: 500;
  margin: 2px;
  white-space: nowrap;
  transition: all 0.2s ease;
}

/* Explicit skills - solid blue (existing pattern) */
.skill-chip.explicit {
  background-color: #e3f2fd;
  color: #1565c0;
  border: 1px solid #90caf9;
}

/* Inferred skills - styled border indicating inference */
.skill-chip.inferred {
  background-color: #f5f5f5;
  color: #616161;
  border: 1px dashed #9e9e9e;
}

/* Confidence-based borders for inferred skills */
.skill-chip.inferred.high {
  border-color: #4caf50;
  background-color: #e8f5e9;
  color: #2e7d32;
}

.skill-chip.inferred.medium {
  border-color: #ff9800;
  background-color: #fff3e0;
  color: #e65100;
}

.skill-chip.inferred.low {
  border-color: #9e9e9e;
  background-color: #fafafa;
  color: #757575;
}

/* Matched skill highlight */
.skill-chip.matched {
  box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.5);
}

/* Confidence badge */
.confidence-badge {
  font-size: 10px;
  padding: 1px 5px;
  border-radius: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.confidence-badge.high {
  background-color: #4caf50;
  color: white;
}

.confidence-badge.medium {
  background-color: #ff9800;
  color: white;
}

.confidence-badge.low {
  background-color: #9e9e9e;
  color: white;
}

/* Hover states */
.skill-chip:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.skill-chip.inferred:hover {
  cursor: help;
}
```

Color scheme rationale:
- Explicit: Blue (consistent with existing skill display)
- Inferred High: Green (high confidence)
- Inferred Medium: Orange (caution)
- Inferred Low: Gray (uncertain)
- Matched: Green ring highlight
  </action>
  <verify>CSS file created and imports correctly in component</verify>
  <done>SkillChip styled with confidence-based coloring and badge styling</done>
</task>

</tasks>

<verification>
1. Run `npm run build` in headhunter-ui - should complete without errors
2. SkillChip component renders explicit skills with blue styling and no badge
3. SkillChip component renders inferred skills with:
   - High confidence (0.85): Green border + "High" badge
   - Medium confidence (0.65): Orange border + "Likely" badge
   - Low confidence (0.3): Gray border + "Possible" badge
4. Hovering on inferred skill shows evidence tooltip
5. Matched skills have green ring highlight
</verification>

<success_criteria>
1. SkillChip component exports correctly from components/Match
2. Confidence thresholds match TRNS-04: High (>0.8), Medium (0.5-0.8), Low (<0.5)
3. Explicit skills have solid styling, inferred have dashed border
4. Evidence tooltip appears on hover for inferred skills
5. TypeScript compilation passes
</success_criteria>

<output>
After completion, create `.planning/phases/09-match-transparency/09-02-SUMMARY.md`
</output>
